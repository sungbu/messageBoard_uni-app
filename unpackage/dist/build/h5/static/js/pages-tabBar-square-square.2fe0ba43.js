(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabBar-square-square"],{"0f77":function(e,t,a){"use strict";var s=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("f499"));a("7f7f"),a("ac6a");var n=s(a("5174")),o={data:function(){return{hotMessages:[{id:"",userId:"",content:"",pickNum:"",messageNum:"",ctime:"",time:100}],messages:[],pickCotnet:[],messagePage:1,messageNum:6,loadingText:"加载中...",messId:void 0,hotMessStrLen:10,hotMessLen:3,messNames:[]}},onShow:function(){this.messages=[],this.verification(this),this.getMessStorage(),this.getHotMessages(),this.getMessage()},methods:{getHotMessages:function(){1==this.messagePage&&(this.messages=[]);var e=this;uni.request({method:"POST",url:n.default.getHotMessage,data:{page:1,num:e.hotMessLen},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){e.hotMessages=t.data;for(var a=0;a<e.hotMessages.length;a++)for(var s=0;s<e.pickCotnet.length;s++)t.data[a].id==e.pickCotnet[s].id&&(e.hotMessages[a].myPick=1)}})},getname:function(e){var t="";return this.messNames.forEach(function(a){a.index==e&&(t=a.name)}),t},userIdGetUserName:function(e,t,a){uni.request({method:"POST",url:n.default.getUserDes,data:{userId:e.userId},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){t.messNames.push({name:e.data.data[0].username,index:a}),console.log(t.messNames)}})},verification:function(e){e.userIdCard=[],uni.getStorage({key:"userDes",success:function(t){e.messId=t.data.id}})},getMessage:function(){var e=this;uni.request({method:"POST",url:n.default.getMessage,data:{page:e.messagePage,num:e.messageNum},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(void 0==t.data)e.loadingText="到底了";else if(t.data.length>0){t.data.forEach(function(t,a){e.messages.push(t),e.$options.methods.userIdGetUserName(t,e,a)});for(var a=0;a<e.messages.length;a++)for(var s=0;s<e.pickCotnet.length;s++)t.data[a].id==e.pickCotnet[s].id&&(e.messages[a].myPick=1)}else e.loadingText="到底了"}})},changeData:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<9?"0"+t.getDate():t.getDate())},updatServerPickNum:function(e,t){uni.request({method:"POST",url:n.default.addPick,data:{replay:0,tabId:e.id,userId:e.userId,messId:t.messId},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e.data)}})},pick:function(e){e.myPick=1,e.pickNum++,uni.showToast({icon:"success",title:"已点赞"}),this.pickCotnet.push(e),uni.setStorage({key:"pickCotnet",data:this.pickCotnet}),this.$options.methods.updatServerPickNum(e,this)},getMessStorage:function(){var e=this;uni.getStorage({key:"pickCotnet",success:function(t){e.pickCotnet=t.data}})},sliceMessage:function(e){return e.length>10?e.slice(0,this.hotMessStrLen)+"...":e},changeWriteMessPage:function(){uni.navigateTo({url:"../../paging/wirteMessage"})},navigateToDetailsPage:function(e){uni.navigateTo({url:"../../paging/detailsPage?message="+(0,i.default)(e)})}},onPullDownRefresh:function(){var e=this;setTimeout(function(){e.messages=[],e.loadingText="加载中...",e.messagePage=1,e.getHotMessages(),e.getMessage(),uni.stopPullDownRefresh()},1e3)},onReachBottom:function(){this.messagePage++,this.getMessage()}};t.default=o},5174:function(e,t,a){"use strict";var s="/",i={getMessage:s+"api/message",getHotMessage:s+"api/message",getUserDes:s+"api/getUserDes",addPick:s+"api/addReplay",userAllMess:s+"api/allMess",userIdGetReplayNum:s+"api/userIdGetReplayNum",removeThisMessage:s+"api/remMess",sendMessage:s+"api/addMess",tabIdGetReplay:s+"api/tabIdGetReplayNum",signIn:s+"api/signIn",signUp:s+"api/signUp",tabIdGetMessage:s+"api/queryMess"};e.exports=i},"873c":function(e,t,a){"use strict";var s=a("bff6"),i=a.n(s);i.a},a83e:function(e,t,a){"use strict";a.r(t);var s=a("0f77"),i=a.n(s);for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);t["default"]=i.a},bff6:function(e,t,a){var s=a("e6df");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("4f06").default;i("4de8484e",s,!0,{sourceMap:!1,shadowMode:!1})},c995:function(e,t,a){"use strict";a.r(t);var s=a("f751"),i=a("a83e");for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);a("873c");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"a41d53b8",null);t["default"]=r.exports},e6df:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".all[data-v-a41d53b8]{color:#707070;font-weight:200;font-size:%?35?%;padding-top:%?30?%}.all .addMessBtn[data-v-a41d53b8]{position:fixed;right:%?70?%;bottom:%?150?%;width:%?100?%;height:%?100?%;background:rgba(74,179,255,.8);border-radius:50%;text-align:center;z-index:1;-webkit-box-shadow:4px 10px 20px rgba(0,0,0,.15);box-shadow:4px 10px 20px rgba(0,0,0,.15)}.all .addMessBtn i[data-v-a41d53b8]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%);-ms-transform:translate(-50%);transform:translate(-50%);width:%?60?%;height:%?10?%;background-color:#f4f4f4;border-radius:%?5?%}.all .addMessBtn .two[data-v-a41d53b8]{margin-left:%?-30?%;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.all .background[data-v-a41d53b8]{position:fixed;height:%?1300?%;width:%?750?%;z-index:-1}.all .background .circle[data-v-a41d53b8]{position:absolute;top:%?-150?%;left:%?-50?%;width:%?300?%;height:%?300?%;background-color:#3192dc;border-radius:50%}.all .background uni-image[data-v-a41d53b8]{position:absolute;bottom:0}.all .banner[data-v-a41d53b8]{width:90%;border:3px solid #707070;border-radius:20px;margin:0 auto;height:%?250?%;background:hsla(0,0%,100%,.7);-webkit-box-shadow:4px 10px 20px rgba(0,0,0,.15);box-shadow:4px 10px 20px rgba(0,0,0,.15)}.all .banner uni-swiper[data-v-a41d53b8]{margin:10px;height:%?250?%}.all .banner uni-swiper uni-swiper-item .author[data-v-a41d53b8]{font-size:%?30?%}.all .banner uni-swiper uni-swiper-item .content[data-v-a41d53b8]{text-align:center;margin-top:%?30?%}.all .banner uni-swiper uni-swiper-item .control[data-v-a41d53b8]{margin-top:%?60?%;text-align:right}.all .banner uni-swiper uni-swiper-item .control uni-view[data-v-a41d53b8]{font-size:%?40?%;display:inline-block;margin-right:%?10?%}.all .banner uni-swiper uni-swiper-item .control uni-view uni-text[data-v-a41d53b8]{font-size:%?15?%}.all .banner uni-swiper uni-swiper-item .control .on[data-v-a41d53b8]{color:#e55}.all .messages[data-v-a41d53b8]{margin:%?50?% %?30?%}.all .messages .header uni-image[data-v-a41d53b8]{vertical-align:top;width:%?60?%;height:%?60?%;border-radius:50%;border:%?3?% solid #707070;-webkit-box-shadow:3px 4px 3px rgba(0,0,0,.15);box-shadow:3px 4px 3px rgba(0,0,0,.15)}.all .messages .header uni-text[data-v-a41d53b8]{vertical-align:top;font-size:%?30?%;line-height:%?70?%;margin-left:%?20?%}.all .messages .content[data-v-a41d53b8]{margin-top:%?20?%}.all .messages .content uni-text[data-v-a41d53b8]{display:block;margin-left:%?30?%;font-weight:500;border:1px solid #a0a0a0;padding:%?10?%;border-radius:%?20?%;background:rgba(0,0,0,.15);line-height:%?48?%;-webkit-box-shadow:4px 10px 20px rgba(0,0,0,.15);box-shadow:4px 10px 20px rgba(0,0,0,.15)}.all .messages .date[data-v-a41d53b8]{display:inline-block;margin-left:%?30?%;font-size:%?25?%;text-indent:.5em;margin-top:%?20?%}.all .messages .control[data-v-a41d53b8]{float:right;display:inline-block;margin-right:%?40?%;margin-top:%?10?%}.all .messages .control uni-view[data-v-a41d53b8]{display:inline-block;margin-right:%?10?%;padding:%?8?%}.all .messages .control uni-view uni-text[data-v-a41d53b8]{font-size:%?15?%;margin-left:%?5?%}.all .loadingText[data-v-a41d53b8]{text-align:center;font-size:%?20?%;margin-top:%?10?%}",""])},f751:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"all"},[a("v-uni-view",{staticClass:"addMessBtn",on:{click:function(t){t=e.$handleEvent(t),e.changeWriteMessPage()}}},[a("i",{staticClass:"one"}),a("i",{staticClass:"two"})]),a("v-uni-view",{staticClass:"background"},[a("v-uni-view",{staticClass:"circle"}),a("v-uni-image",{attrs:{src:"../../../static/img/square-bk.jpg",mode:"aspectFit"}})],1),a("v-uni-view",{staticClass:"banner"},[a("v-uni-swiper",{attrs:{circular:"true",autoplay:"true","indicator-dots":"true"}},e._l(e.hotMessages,function(t,s){return a("v-uni-swiper-item",{key:t.id,on:{click:function(a){a.stopPropagation(),a=e.$handleEvent(a),e.navigateToDetailsPage(t)}}},[a("v-uni-view",{staticClass:"author"},[e._v(e._s(e.getname(s)))]),a("v-uni-view",{staticClass:"content"},[e._v(e._s(e.sliceMessage(t.content)))]),a("v-uni-view",{staticClass:"control"},[0==t.myPick?a("v-uni-view",{staticClass:"iconfont",on:{click:function(a){a.stopPropagation(),a=e.$handleEvent(a),e.pick(t)}}},[e._v(""),a("v-uni-text",[e._v(e._s(t.pickNum))])],1):a("v-uni-view",{staticClass:"iconfont on",on:{click:function(t){t=e.$handleEvent(t),e.pick(t)}}},[e._v(""),a("v-uni-text",[e._v(e._s(t.pickNum))])],1),a("v-uni-view",{staticClass:"iconfont"},[e._v("")]),a("v-uni-view",{staticClass:"iconfont"},[e._v("")])],1)],1)}),1)],1),e._l(e.messages,function(t,s){return a("v-uni-view",{key:t.id,staticClass:"messages",on:{click:function(a){a=e.$handleEvent(a),e.navigateToDetailsPage(t)}}},[a("v-uni-view",{staticClass:"header"},[a("v-uni-image",{attrs:{src:"../../../static/img/header-bk.png"}}),a("v-uni-text",[e._v(e._s(e.getname(s)))])],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-text",[e._v(e._s(t.content))])],1),a("v-uni-view",{staticClass:"date"},[e._v(e._s(e.changeData(t.ctime)))]),a("v-uni-view",{staticClass:"control"},[0==t.myPick?a("v-uni-view",{staticClass:"iconfont",on:{click:function(a){a=e.$handleEvent(a),e.pick(t)}}},[e._v(""),a("v-uni-text",[e._v(e._s(t.pickNum))])],1):a("v-uni-view",{staticClass:"iconfont"},[e._v(""),a("v-uni-text",[e._v(e._s(t.pickNum))])],1),a("v-uni-view",{staticClass:"iconfont"},[e._v("")]),a("v-uni-view",{staticClass:"iconfont"},[e._v("")])],1)],1)}),a("v-uni-view",{staticClass:"loadingText"},[e._v(e._s(e.loadingText))])],2)},i=[];a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i})}}]);